We are building a hosted Web App, so **Firestore is the Master Source of Truth**.

Please implement `src/processing/enrich_library.py` with this exact workflow:

1.  **Fetch from Firestore:**
    - Do NOT read `playlist.json`.
    - Query the Firestore `videos` collection to get the authoritative list of videos.

2.  **Enrichment Loop:**
    - Iterate through the Firestore documents.
    - Check if fields (`tldr`, `original_date`, `tags`) are missing.
    - If missing, send `title` + `description` to the AI to generate them.

3.  **Write Back to Firestore:**
    - Save the generated metadata directly back to the specific Firestore document.

4.  **Update Cache (Critical for now):**
    - Since our current frontend prototype relies on `data/playlist.json`, you must **regenerate** that file from the fresh Firestore data at the very end of the script.
    - This ensures our current view stays in sync with the database.