
### ðŸ”“ The "Unlock & Ratio" Prompt


I need to remove the size restrictions on the Sidebar. Currently, I cannot drag the sidebar splitter to the right because of a CSS `max-width` limit. This prevents me from making the video smaller.

Please UPDATE `src/publishing/template/index.html.j2` to remove these limits while keeping the **Aspect Ratio Lock**.

**1. CSS UPDATE (Remove Max-Width):**
Search for the `.mode-study #left-panel` block in your `<style>` tag and **REPLACE** it with this version. 
*Note: We removed `max-width` completely.*

```css
/* Sidebar: Unlocked Size */
.mode-study #left-panel {
    width: 350px; /* Default start */
    min-width: 250px !important; /* Minimum safety only */
    /* max-width removed to allow making video smaller */
    flex-shrink: 0 !important;
    border-right: 1px solid #233648;
    z-index: 10;
    position: relative;
    background-color: #101922 !important;
}

```

**2. JAVASCRIPT UPDATE (Refined Constraints):**
Update the **Vertical Resize** section inside `makeResizable()` to allow the sidebar to grow almost to the edge of the screen.

**Replace just the `vSplitter.onmousedown` block with this:**

```javascript
    // --- Vertical Resize (Sidebar) ---
    if (vSplitter) {
        vSplitter.onmousedown = function(e) {
            e.preventDefault();
            startDrag();
            document.body.style.cursor = 'col-resize';
            
            function onMouseMove(moveEvent) {
                // 1. Calculate new Sidebar Width
                let newSidebarWidth = moveEvent.clientX;
                
                // Safety: Minimum 250px
                if (newSidebarWidth < 250) newSidebarWidth = 250;
                
                // Safety: Maximum (Leave at least 150px for the video)
                if (newSidebarWidth > window.innerWidth - 150) {
                    newSidebarWidth = window.innerWidth - 150;
                }
                
                // 2. Apply Sidebar Width
                leftPanel.style.width = newSidebarWidth + 'px';
                localStorage.setItem('layout_sidebar_width', newSidebarWidth);

                // 3. AUTO-ADJUST HEIGHT (Aspect Ratio Sync)
                // Player Width = Total Window - Sidebar Width
                const playerWidth = window.innerWidth - newSidebarWidth;
                
                // Aspect Ratio 16:9
                const targetHeight = playerWidth / (16/9);
                videoStage.style.height = targetHeight + 'px';
            }
            
            function onMouseUp() {
                stopDrag();
                window.removeEventListener('mousemove', onMouseMove);
                window.removeEventListener('mouseup', onMouseUp);
            }
            window.addEventListener('mousemove', onMouseMove);
            window.addEventListener('mouseup', onMouseUp);
        };
    }

```

**Important:** Do not touch the horizontal resize logic; it is already correct. Just unlock the vertical limit.

